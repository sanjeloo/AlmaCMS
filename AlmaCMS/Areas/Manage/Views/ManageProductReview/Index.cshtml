@model IEnumerable<AlmaCMS.ViewModels.VMReviews>
@using AlmaCMS.Helpers;
@{
    ViewBag.Title = "مدیریت نظرات محصولات";
    Layout = "~/Areas/Manage/Views/Shared/_LayoutAdmin.cshtml";
}

@section styles{
    <link href="~/Areas/Manage/Content/plugins/datatables/css/jquery.dataTables.css" rel="stylesheet" />
    <link href="~/Areas/Manage/Content/plugins/datatables/extensions/Buttons/css/buttons.dataTables.css" rel="stylesheet" />
    <style>
        .fa-star{color:#0096D6 !important;margin:0px !important}
    </style>
}
<div class="row">
    <div class="col-lg-12">
        <div class="panel panel-default">
            <div class="panel-heading clearfix">
                <h4 class="panel-title">مدیریت نظرات محصولات</h4>
                <ul class="panel-tool-options">
                    <li><a data-rel="collapse" href="#"><i class="icon-down-open"></i></a></li>
                    <li><a data-rel="reload" href="#"><i class="icon-arrows-ccw"></i></a></li>
                    <li><a data-rel="close" href="#"><i class="icon-cancel"></i></a></li>
                </ul>
            </div>
            <div class="panel-body">
                <div class="row">

                </div>
                <div class="table-responsive">
                    <table class="table table-striped table-bordered table-hover dataTables-example">
                        <thead>
                            <tr>

                                <th>
                                    ردیف
                                </th>
                                <th>
                                    تاریخ درج
                                </th>
                                <th>
                                    عنوان محصول
                                </th>
                                @*<th>
                                    آی پی کاربر
                                </th>*@
                                <th>
                                    نام کاربر
                                </th>
                                <th>
                                    ایمیل
                                </th>
                                <th>
                                    عنوان
                                </th>
                                <th>
                                    متن نظر
                                </th>
                                <th>
                                    امتیاز
                                </th>
                                <th>
                                    پاسخ
                                </th>
                                <th>
                                    عملیات
                                </th>
                            </tr>

                        </thead>
                        <tbody>
                            @{ int i = 0; }
                            @foreach (var item in Model)
                            {
                                i++;
                                <tr>
                                    <td class="size-40 text-center">
                                        @i
                                    </td>
                                    
                                    <td class="size-80 text-center">
                                        @item.DateInsert.ToPersianShortDate()
                                    </td>
                                    <td style="min-width:80px">
                                        @Html.DisplayFor(modelItem => item.Title)
                                    </td>
                                    @*<td class="size-80 text-center">
                                        @Html.DisplayFor(modelItem => item.IP)
                                    </td>*@
                                    <td>
                                        @Html.DisplayFor(modelItem => item.Name)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.Email)
                                    </td>
                                    

                                    <td>
                                        @Html.DisplayFor(modelItem => item.ProductTitle)
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.Comment)
                                    </td>
                                   
                                    <td class="text-center" style="width:105px !important">
                                        @if (item.Rate == 1)
                                        {
                                            <i class="fa fa-star"></i>
                                        }
                                        else if (item.Rate == 2)
                                        {
                                            <i class="fa fa-star"></i>
                                            <i class="fa fa-star"></i>
                                        }
                                        else if (item.Rate == 3)
                                        {
                                            <i class="fa fa-star"></i>
                                            <i class="fa fa-star"></i>
                                            <i class="fa fa-star"></i>
                                        }
                                        else if (item.Rate == 4)
                                        {
                                            <i class="fa fa-star"></i>
                                            <i class="fa fa-star"></i>
                                            <i class="fa fa-star"></i>
                                            <i class="fa fa-star"></i>
                                        }
                                        else if (item.Rate == 5)
                                        {
                                            <i class="fa fa-star"></i>
                                            <i class="fa fa-star"></i>
                                            <i class="fa fa-star"></i>
                                            <i class="fa fa-star"></i>
                                            <i class="fa fa-star"></i>
                                        }
                                    </td>
                                    <td>
                                        @Html.DisplayFor(modelItem => item.Answer)
                                    </td>
                                    <td class="size-80 text-center" style="width:105px !important">

                                        @if (item.Status == true)
                                        {
                                            <a href="@Url.Action("DoActive", new { id=item.Id})"><span class="btn btn-success btn-xs" data-toggle="tooltip" data-placement="top" title="نمایش نده"><i class="fa fa-eye"></i></span></a>
                                        }
                                        else
                                        {
                                            <a href="@Url.Action("DoActive", new { id = item.Id })"><span class="btn btn-danger  btn-xs " data-toggle="tooltip" data-placement="top" title="تایید و نمایش"><i class="fa fa-eye-slash"></i></span></a>
                                        }
                                        <a href="@Url.Action("Edit", "ManageProductReview", new { id = item.Id })" class="btn btn-warning btn-xs" data-toggle="tooltip" data-placement="top" title="ویرایش"><i class="fa fa-edit"></i></a>

                                        <a href="@Url.Action("Delete", "ManageProductReview", new { id = item.Id })" class="btn btn-danger btn-xs" data-toggle="tooltip" data-placement="top" title="حذف"><i class="fa fa-close"></i></a>
                                    </td>
                                </tr>
                            }

                        </tbody>

                    </table>
                </div>

            </div>
        </div>
    </div>
</div>

@section Scripts{
    <script src="~/Areas/Manage/Content/plugins/datatables/js/jquery.dataTables.js"></script>
    <script src="~/Areas/Manage/Content/plugins/datatables/js/dataTables.bootstrap.min.js"></script>
    <script src="~/Areas/Manage/Content/plugins/datatables/extensions/Buttons/js/dataTables.buttons.min.js"></script>
    <script src="~/Areas/Manage/Content/plugins/datatables/js/jszip.min.js"></script>
    <script src="~/Areas/Manage/Content/plugins/datatables/js/pdfmake.min.js"></script>
    <script src="~/Areas/Manage/Content/plugins/datatables/js/vfs_fonts.js"></script>
    <script src="~/Areas/Manage/Content/plugins/datatables/extensions/Buttons/js/buttons.html5.js"></script>
    <script src="~/Areas/Manage/Content/plugins/datatables/extensions/Buttons/js/buttons.colVis.js"></script>
    <script src="~/Areas/Manage/Content/plugins/datatables/js/dataTables-script.js"></script>
<script>
    $(".page-container").addClass("sidebar-collapsed can-resize")
</script>
}